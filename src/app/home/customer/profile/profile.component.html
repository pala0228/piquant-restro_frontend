<div class="user-profile page-container u-bg-white" fxLayout="column" fxLayoutGap="1rem">
  <!-- page title starts  -->
  <div class="page-title-widget">
    <div class="page-title page-title-align u-width-100">
      <span>User Profile</span>
      <span class="user-profile__user-type">{{user.userType}}</span>
    </div>
  </div>
  <!-- Info screen to show success/error/warning/information messages-->
  <div *ngIf="showScreen">
    <app-info [message]="message" [showScreen]="showScreen" [status]="status"></app-info>
  </div>
  <!-- page content starts  -->
  <div class="u-margin-top-16">
    <form [formGroup]="userProfile">
      <div fxLayout="column">
        <div ngClass.gt-sm="user-profile__div-width" ngClass.lt-sm="u-width-100">
          <mat-form-field class="u-width-100">
            <mat-label>First Name</mat-label>
            <input matInput formControlName="firstName" type="text">
            <mat-error *ngIf="userProfile.controls['firstName'].errors?.required">
              Mandatory feild: First name.
            </mat-error>
            <mat-error *ngIf="userProfile.controls['firstName'].errors?.pattern">
              Invalid first name, Only alphanumeric data is allowed.
            </mat-error>
          </mat-form-field>
        </div>
        <div ngClass.gt-sm="user-profile__div-width" ngClass.lt-sm="u-width-100">
          <mat-form-field class="u-width-100">
            <mat-label>Last Name</mat-label>
            <input matInput formControlName="lastName" type="text">
            <mat-error *ngIf="userProfile.controls['lastName'].errors?.required">
              Mandatory feild: Last name.
            </mat-error>
            <mat-error *ngIf="userProfile.controls['lastName'].errors?.pattern">
              Invalid first name, Only alphanumeric data is allowed.
            </mat-error>
          </mat-form-field>
        </div>
        <div ngClass.gt-sm="user-profile__div-width" ngClass.lt-sm="u-width-100">
          <mat-form-field class="u-width-100">
            <mat-label>Email Address</mat-label>
            <input matInput formControlName="email" type="text">
            <mat-error *ngIf="userProfile.controls['email'].errors?.required">
              Mandatory feild: Email.
            </mat-error>
            <mat-error *ngIf="userProfile.controls['email'].errors?.email">
              Invalid email Id, Please enter valid email Id.
            </mat-error>
          </mat-form-field>
        </div>
        <div ngClass.gt-sm="user-profile__div-width" ngClass.lt-sm="u-width-100">
          <mat-form-field class="u-width-100">
            <mat-label>Contact Number</mat-label>
            <span matPrefix>+91&nbsp;</span>
            <input matInput formControlName="contactNumber" type="text">
            <mat-error *ngIf="userProfile.controls['contactNumber'].errors?.required">
              Mandatory feild: Contact number.
            </mat-error>
            <mat-error *ngIf="userProfile.controls['contactNumber'].errors?.pattern">
              Invalid contact number, Only numeric data is allowed.
            </mat-error>
            <mat-error
              *ngIf="userProfile.controls['contactNumber'].errors?.maxlength || userProfile.controls['contactNumber'].errors?.minlength">
              Invalid contact number, Min and Max 10 digits can be acceptable.
            </mat-error>
          </mat-form-field>
        </div>
        <div ngClass.gt-sm="user-profile__div-width" ngClass.lt-sm="u-width-100">
          <mat-form-field color="accent" appearance="fill" class="u-width-100">
            <mat-label>DOB</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="dob">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker touchUi #picker></mat-datepicker>
          </mat-form-field>
        </div>
        <div ngClass.gt-sm="user-profile__div-width" ngClass.lt-sm="u-width-100">
          <mat-form-field class="u-width-100" appearance="outline">
            <mat-label>Address</mat-label>
            <textarea formControlName="address" matInput #address maxlength="200"></textarea>
            <mat-hint align="end">{{address.value?.length || 0 }}/200</mat-hint>
            <mat-error *ngIf="userProfile.controls['address'].errors?.required">
              Mandatory feild: Address.
            </mat-error>
            <mat-error *ngIf="userProfile.controls['address'].errors?.maxlength">
              Address lenght should not cross 200 characters.
            </mat-error>
          </mat-form-field>
        </div>
        <div ngClass.gt-sm="user-profile__div-width" ngClass.lt-sm="u-width-100">
          <mat-form-field class="u-width-100">
            <mat-label>Password</mat-label>
            <input matInput formControlName="password" type="password">
            <mat-error *ngIf="userProfile.controls['password'].errors?.required">
              Mandatory feild: Password.
            </mat-error>
            <mat-error *ngIf="userProfile.controls['password'].errors?.pattern">
              Invalid password. Acceptable pattern is - Min 8 characters, At least one upper case, lower case,
              digit
              and special character.
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <!-- action button  -->
      <div fxLayoutAlign="center center">
        <button type="submit" color="accent" (click)="onSave()" [disabled]="userProfile.invalid" mat-raised-button>
          <mat-icon>save</mat-icon>Save
        </button>
      </div>
    </form>
  </div>
</div>
